# go语言圣经
## 四、复合数据类型

1. 以不同的方式组合基本类型可以构造出来的复合数据类型
2. 四种类型——数组、slice、map和结构体
3. 数组是由同构的元素组成——每个数组元素都是完全相同的类型——结构体则是由异构的元素组成的
4. slice和map则是动态的数据结构，它们将根据需要动态增长 

### go语言圣经-数组
1. 因为数组的长度是固定的，因此在Go语言中很少直接使用数组
2. 数组字面值语法用一组值来初始化数组
3. 数组的长度是数组类型的一个组成部分
4. Printf函数的%x副词参数，它用于指定以十六进制的格式打印数组或slice全部的元素，%t副词参数是用于打印布尔型数据，%T副词参数是用于显示一个值对应的数据类型
5. 函数传参可以显式地传入一个数组指针，那样的话函数通过指针对数组的任何修改都可以直接反馈到调用者

### go语言圣经-Slice

1. Slice（切片）代表变长的序列，序列中每个元素都有相同的类型,一个slice类型一般写作[]T，其中T代表slice中元素的类型；slice的语法和数组很像，只是没有固定长度而已,slice的底层确实引用一个数组对象

2. 内置的len和cap函数分别返回slice的长度和容量
3. s[i:j] , 从第i个元素开始到第j-1个元素的子序列,s[:]切片操作则是引用整个数组
4. slice值包含指向第一个slice元素的指针，因此向函数传递slice将允许在函数内部修改底层数组的元素
5. 将slice元素循环向左旋转n个元素的方法是三次调用reverse反转函数，第一次是反转开头的n个元素，然后是反转剩下的元素，最后是反转整个slice的元素。
6. slice之间不能比较，因此我们不能使用==操作符来判断两个slice是否含有全部相等元素,slice唯一合法的比较操作是和nil比较
7. 可以用[]int(nil)类型转换表达式来生成一个对应类型slice的nil值
8. 测试一个slice是否是空的，使用len(s) == 0来判断
9. make函数创建一个指定元素类型、长度和容量的slice , make([]T, len)
10. 内置的append函数用于向slice追加元素
11. []rune("Hello, 世界")  字符串转rune类型的slice
12. 我们并不知道append调用是否导致了内存的重新分配，因此我们也不能确认新的slice和原始的slice是否引用的是相同的底层数组空间,通常是将append返回的结果直接赋值给输入的slice变量
13. 函数参数中的最后的“...”省略号表示接收变长的参数为slice,func appendInt(x []int, y ...int) []int {}
14. 报错invalid indirect of s\[j\] (type int) ,使用数组指针的时候(*s)[0]
15. Slice内存技巧,可使用for range循坏，或是append等内置函数实现。

### Go语言圣经-结构体

1. 结构体是一种聚合的数据类型，是由零个或多个任意类型的值聚合成的实体；
2. 通常一行对应一个结构体成员，成员的名字在前类型在后，不过如果相邻的成员类型如果相同的话可以被合并到一行；
3. 如果结构体成员名字是以大写字母开头的，那么该成员就是导出的；这是Go语言导出规则决定的。一个结构体可能同时包含导出和未导出的成员。
4. 一个命名为S的结构体类型将不能再包含S类型的成员：因为一个聚合的值不能包含它自身,但S类型的结构体可以包含*S指针类型的成员；
5. 结构体类型的零值是每个成员都是零值。通常会将零值作为最合理的默认值；
6. 结构体字面值,第一种要求以结构体成员定义的顺序为每个结构体成员指定一个字面值；第二种写法，以成员名字和相应的值来初始化，可以包含部分或全部的成员,更常用；
7. 企图隐式使用未导出成员的行为是不允许的；
8. 如果考虑效率的话，较大的结构体通常会用指针的方式传入和返回函数中；
9. 如果要在函数内部修改结构体成员的话，用指针传入是必须的；因为在Go语言中，所有的函数参数都是值拷贝传入的，函数参数将不再是函数调用时的原始变量。
10. 结构体比较,如果结构体的全部成员都是可以比较的，那么结构体也是可以比较的
11. 可比较的结构体类型和其他可比较的类型一样，可以用于map的key类型。
12. 结构体嵌入和匿名成员,让我们只声明一个成员对应的数据类型而不指名成员的名字；这类成员就叫匿名成员,得意于匿名嵌入的特性，我们可以直接访问叶子属性而不需要给出完整的路径；
13. 结构体字面值并没有简短表示匿名成员的语法;
14. Printf函数中%v参数包含的#副词，它表示用和Go语言类似的语法打印值。对于结构体类型来说，将包含每个成员的名字。